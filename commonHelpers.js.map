{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nconst input = document.querySelector('.form-input');\nconst gallery = document.querySelector('.gallery');\nlet inputValue = '';\nconst loader = document.querySelector('.loader');\ninput.addEventListener('input', (event) => {\n    inputValue = event.target.value.trim();\n});\nlet newGallery = new SimpleLightbox('.gallery a', {\n                        overlayOpacity: 0.8,\n                        captionSelector: 'img',\n                        captionDelay: 250,\n                        captionPosition: 'bottom',\n                        captionsData: \"alt\",\n                        className: 'simple-lightbox',\n                    }); \nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (inputValue === \"\") {\n        searchForm.reset();\n        return\n    } else {\n        gallery.innerHTML = \"\";\n        const searchParams = new URLSearchParams({\n        key: '43830110-6528f7a21182a7b65b70041af',\n        q: `${inputValue}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        });\n        const url = `https://pixabay.com/api/?${searchParams}`;   \n        loader.classList.remove('is-hidden');\n        fetchImage(url)\n            .then(value => {\n                if (value.total === 0) {\n                    iziToast.show({\n                        id: null,\n                        class: '.izi-toast',\n                        message: 'Sorry, there are no images matching your search query. Please try again!',\n                        messageColor: '#fff',\n                        messageSize: '14px',\n                        messageLineHeight: '',\n                        backgroundColor: '#EF4040',\n                        theme: 'light', // dark\n                        color: '', // blue, red, green, yellow\n                        icon: '',\n                        iconText: '',\n                        iconColor: '#fff',\n                        iconUrl: './img/Group.svg',\n                        maxWidth: 450,\n                        zindex: null,\n                        layout: 1,\n                        balloon: false,\n                        close: true,\n                        closeOnEscape: false,\n                        closeOnClick: false,\n                        displayMode: 0, // once, replace\n                        position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n                        target: '',\n                        targetFirst: true,\n                        timeout: 5000,\n                        rtl: false,\n                        animateInside: true,\n                        drag: true,\n                        pauseOnHover: true,\n                        resetOnHover: false,\n                        progressBar: true,\n                        progressBarColor: '',\n                        progressBarEasing: 'linear',\n                        overlay: false,\n                        overlayClose: false,\n                        overlayColor: 'rgba(0, 0, 0, 0.6)',\n                        transitionIn: 'fadeInUp',\n                        transitionOut: 'fadeOut',\n                        transitionInMobile: 'fadeInUp',\n                        transitionOutMobile: 'fadeOutDown',\n                        buttons: {},\n                        inputs: {},\n                        onOpening: function () { },\n                        onOpened: function () { },\n                        onClosing: function () { },\n                        onClosed: function () { }\n                    });\n                } else {\n                    gallery.insertAdjacentHTML('afterbegin', madeMarkup(value));\n                    const galleryRefresh = newGallery.refresh();\n                    newGallery.on('open.simplelightbox', galleryRefresh);\n                     \n                }\n            })\n            .catch(console.error())\n            .finally(() => loader.classList.add('is-hidden'));\n    }\n    inputValue = '';\n    searchForm.reset();\n}); \n\nfunction fetchImage(value) {\n        return fetch(value)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n    };\n\nfunction madeMarkup(images) {\n    const imagesArray = images.hits;\n    const galleryItems = [];\n    imagesArray.forEach(image => {\n        galleryItems.push(`<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <div class=\"wrapper\">\n            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            <div class=\"title-wrapper\">\n            <p class=\"title\">Likes<span>${image.likes}</span></p>\n            <p class=\"title\">Views<span>${image.views}</span></p>\n            <p class=\"title\">Comments<span>${image.comments}</span></p>\n            <p class=\"title\">Downloads<span>${image.downloads}</span></p>\n            </div>\n            </div>\n            </a>\n            </li>`);\n        });\n    // gallery.insertAdjacentHTML(\"afterbegin\", galleryItems.join(\"\"));\n    return galleryItems.join(\"\");\n};\n"],"names":["input","gallery","inputValue","loader","event","newGallery","SimpleLightbox","searchForm","url","fetchImage","value","iziToast","madeMarkup","galleryRefresh","response","images","imagesArray","galleryItems","image"],"mappings":"6vBAEA,MAAMA,EAAQ,SAAS,cAAc,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAa,GACjB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CH,EAAM,iBAAiB,QAAUI,GAAU,CACvCF,EAAaE,EAAM,OAAO,MAAM,KAAI,CACxC,CAAC,EACD,IAAIC,EAAa,IAAIC,EAAe,aAAc,CAC1B,eAAgB,GAChB,gBAAiB,MACjB,aAAc,IACd,gBAAiB,SACjB,aAAc,MACd,UAAW,iBACnC,CAAqB,EACrB,MAAMC,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAWH,GAAU,CAE7C,GADAA,EAAM,eAAc,EAChBF,IAAe,GAAI,CACnBK,EAAW,MAAK,EAChB,MACR,KAAW,CACHN,EAAQ,UAAY,GAQpB,MAAMO,EAAM,4BAPS,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAG,GAAGN,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAS,CACmD,GACpDC,EAAO,UAAU,OAAO,WAAW,EACnCM,EAAWD,CAAG,EACT,KAAKE,GAAS,CACX,GAAIA,EAAM,QAAU,EAChBC,EAAS,KAAK,CACV,GAAI,KACJ,MAAO,aACP,QAAS,2EACT,aAAc,OACd,YAAa,OACb,kBAAmB,GACnB,gBAAiB,UACjB,MAAO,QACP,MAAO,GACP,KAAM,GACN,SAAU,GACV,UAAW,OACX,QAAS,kBACT,SAAU,IACV,OAAQ,KACR,OAAQ,EACR,QAAS,GACT,MAAO,GACP,cAAe,GACf,aAAc,GACd,YAAa,EACb,SAAU,WACV,OAAQ,GACR,YAAa,GACb,QAAS,IACT,IAAK,GACL,cAAe,GACf,KAAM,GACN,aAAc,GACd,aAAc,GACd,YAAa,GACb,iBAAkB,GAClB,kBAAmB,SACnB,QAAS,GACT,aAAc,GACd,aAAc,qBACd,aAAc,WACd,cAAe,UACf,mBAAoB,WACpB,oBAAqB,cACrB,QAAS,CAAE,EACX,OAAQ,CAAE,EACV,UAAW,UAAY,CAAG,EAC1B,SAAU,UAAY,CAAG,EACzB,UAAW,UAAY,CAAG,EAC1B,SAAU,UAAY,CAAG,CACjD,CAAqB,MACE,CACHV,EAAQ,mBAAmB,aAAcW,EAAWF,CAAK,CAAC,EAC1D,MAAMG,EAAiBR,EAAW,UAClCA,EAAW,GAAG,sBAAuBQ,CAAc,CAEtD,CACjB,CAAa,EACA,MAAM,QAAQ,OAAO,EACrB,QAAQ,IAAMV,EAAO,UAAU,IAAI,WAAW,CAAC,CACvD,CACDD,EAAa,GACbK,EAAW,MAAK,CACpB,CAAC,EAED,SAASE,EAAWC,EAAO,CACnB,OAAO,MAAMA,CAAK,EACjB,KAAKI,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CAET,CACA,SAASF,EAAWG,EAAQ,CACxB,MAAMC,EAAcD,EAAO,KACrBE,EAAe,CAAA,EACrB,OAAAD,EAAY,QAAQE,GAAS,CACzBD,EAAa,KAAK;AAAA,4CACkBC,EAAM,aAAa;AAAA;AAAA,8CAEjBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,0CAE1CA,EAAM,KAAK;AAAA,0CACXA,EAAM,KAAK;AAAA,6CACRA,EAAM,QAAQ;AAAA,8CACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,kBAI3C,CAClB,CAAS,EAEED,EAAa,KAAK,EAAE,CAC/B"}